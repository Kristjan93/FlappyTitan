var overlaps=function(){"use strict";function a(a){var b,c,d;return b=$(a).position(),c=$(a).width(),d=$(a).height(),[[b.left,b.left+c],[b.top,b.top+d]]}function b(a,b){var c,d;return c=a[0]<b[0]?a:b,d=a[0]<b[0]?b:a,c[1]>d[0]||c[0]===d[0]}return function(c,d){var e=a(c),f=a(d);return b(e[0],f[0])&&b(e[1],f[1])}}();$(document).ready(function(){$(function(){"use strict";var a=new window.Game($(".GameCanvas"));a.start()})}),$(document).ready(function(){window.Controls=function(){"use strict";var a={32:"space"},b=function(){this._didJump=!1,this.keys={},$(window).on("keydown",this._onKeyDown.bind(this)).on("keyup",this._onKeyUp.bind(this)),$(".GameCanvas").on("vmouseup",this._onClickUp.bind(this)),$(".GameCanvas").on("vmousedown",this._onClickDown.bind(this))};return b.prototype._onKeyDown=function(b){if(b.keyCode in a){this._didJump=!0;var c=a[b.keyCode];this.keys[c]=!0}},b.prototype._onClickDown=function(b){if(b){this._didJump=!0;var c=a[32];this.keys[c]=!0}},b.prototype._onClickUp=function(b){if(b){var c=a[32];return this.keys[c]=!1,!1}},b.prototype._onKeyUp=function(b){if(b.keyCode in a){var c=a[b.keyCode];return this.keys[c]=!1,!1}},b.prototype.didJump=function(){var a=this._didJump;return this._didJump=!1,a},new b}()}),$(document).ready(function(){window.Game=function(){"use strict";var a=function(a){this.el=a,this.player=new window.Player(this.el.find(".Player"),this),this.titans=new window.Titans(this.el.find(".T1"),this.el.find(".T2"),this.el.find(".T3"),this.el.find(".T4"),this),this.isPlaying=!1,this.onFrame=this.onFrame.bind(this)};a.prototype.score=0,a.prototype.onFrame=function(){if(this.isPlaying){var a=+new Date/1e3,b=a-this.lastFrame;this.lastFrame=a,this.player.onFrame(b),this.titans.onFrame(b),window.requestAnimationFrame(this.onFrame)}},a.prototype.start=function(){this.reset(),c||document.getElementById("themesong").play(),this.lastFrame=+new Date/1e3,window.requestAnimationFrame(this.onFrame),this.isPlaying=!0},a.prototype.reset=function(){this.player.reset(),this.titans.reset(),this.score=0,$(".removeScore").remove()},a.prototype.gameover=function(){this.isPlaying=!1,document.getElementById("themesong").pause(),document.getElementById("deathsound").play(),$(".score").append("<p>"+this.score+"</p>"),$(".score p").addClass("removeScore");var a=this,b=this.el.find(".Scoreboard");b.addClass("is-visible").find(".Scoreboard-restart").one("tap",function(){b.removeClass("is-visible"),a.start()})};var b=!1;$("#mutebutton").on("tap",function(a){var d=document.getElementById("jumpsound"),e=document.getElementById("deathsound"),f=document.getElementById("themesong");b?($("#mutebutton").css("background-image","url(styles/Images/mute.png)"),b=!1,c&&(f.muted=!1),f.muted=!1,d.muted=!1,e.muted=!1):($("#mutebutton").css("background-image","url(styles/Images/unmute.png)"),b=!0,c||(f.muted=!0),d.muted=!0,e.muted=!0)});var c=!1;return $("#mutemusic").on("tap",function(a){var b=document.getElementById("themesong");c?(b.play(),$("#mutemusic").css("background-image","url(styles/Images/mutemusic.png)"),c=!1):(b.pause(),$("#mutemusic").css("background-image","url(styles/Images/unmutemusic.png)"),c=!0)}),a.prototype.WORLD_WIDTH=$(window).width()/10,a.prototype.WORLD_HEIGHT=$(window).height()/10,$(window).resize(function(){a.prototype.WORLD_WIDTH=$(window).width()/10,a.prototype.WORLD_HEIGHT=$(window).height()/10}),a}()}),$(document).ready(function(){window.Titans=function(){"use strict";var a=.04*$(".GameCanvas").width(),b=.2*($(window).width()/10),c=$(window).width()/10,d=0,e=0,f=function(a,b,c,d,e){this.TitanOne={turnedOn:!0,titanBot:a,titanTop:b,posBot:{x:0,y:0},posTop:{x:0,y:0}},this.TitanTwo={turnedOn:!1,titanBot:c,titanTop:d,posBot:{x:0,y:0},posTop:{x:0,y:0}},this.game=e};return f.prototype.randTitans=function(){var a=Math.floor(5*Math.random()+1);switch(a){case 1:d=47,e=-71;break;case 2:d=26,e=-93;break;case 3:d=34,e=-85;break;case 4:d=36,e=-82;break;case 5:d=40,e=-78;break;default:d=45,e=-74}},f.prototype.reset=function(){this.resetTitanOne(),this.resetTitanTwo(),this.TitanOne.turnedOn=!0,this.TitanTwo.turnedOn=!1},f.prototype.resetTitanOne=function(){this.randTitans(),this.TitanOne.posBot.x=c,this.TitanOne.posBot.y=d,this.TitanOne.posTop.x=c,this.TitanOne.posTop.y=e,this.TitanOne.titanTop.css("transform","translateZ(0) translate("+this.TitanOne.posTop.x+"em, "+this.TitanOne.posTop.y+"em)"),this.TitanOne.titanBot.css("transform","translateZ(0) translate("+this.TitanOne.posBot.x+"em, "+this.TitanOne.posBot.y+"em)")},f.prototype.resetTitanTwo=function(){this.randTitans(),this.TitanTwo.posBot.x=c,this.TitanTwo.posBot.y=d,this.TitanTwo.posTop.x=c,this.TitanTwo.posTop.y=e,this.TitanTwo.titanBot.css("transform","translateZ(0) translate("+this.TitanTwo.posTop.x+"em, "+this.TitanTwo.posTop.y+"em)"),this.TitanTwo.titanTop.css("transform","translateZ(0) translate("+this.TitanTwo.posBot.x+"em, "+this.TitanTwo.posBot.y+"em)")},f.prototype.onFrame=function(c){Game.isPlaying&&(this.TitanOne.posTop.x<b&&!this.TitanTwo.turnedOn&&(this.game.score++,this.TitanTwo.turnedOn=!0),this.TitanTwo.posTop.x<b&&!this.TitanOne.turnedOn&&(this.game.score++,this.TitanOne.turnedOn=!0),this.TitanOne.posTop.x<-10&&(this.TitanOne.turnedOn=!1,this.resetTitanOne()),this.TitanTwo.posTop.x<-10&&(this.TitanTwo.turnedOn=!1,this.resetTitanTwo()),this.TitanOne.turnedOn&&(this.TitanOne.posTop.x-=c*a,this.TitanOne.posBot.x-=c*a,this.TitanOne.titanTop.css("transform","translateZ(0) translate("+this.TitanOne.posTop.x+"em, "+this.TitanOne.posTop.y+"em)"),this.TitanOne.titanBot.css("transform","translateZ(0) translate("+this.TitanOne.posBot.x+"em, "+this.TitanOne.posBot.y+"em)")),this.TitanTwo.turnedOn&&(this.TitanTwo.posTop.x-=c*a,this.TitanTwo.posBot.x-=c*a,this.TitanTwo.titanBot.css("transform","translateZ(0) translate("+this.TitanTwo.posTop.x+"em, "+this.TitanTwo.posTop.y+"em)"),this.TitanTwo.titanTop.css("transform","translateZ(0) translate("+this.TitanTwo.posBot.x+"em, "+this.TitanTwo.posBot.y+"em)")))},$(window).resize(function(){.2*($(window).width()/10),$(window).width()/10}),f}()}),$(document).ready(function(){window.Player=function(){"use strict";var a=window.Controls,b=5,c=$("#ground").height()/10+4,d=8,e=.1,f=function(a,b){this.el=a,this.game=b,this.pos={x:0,y:0}};return f.prototype.gravitySpeed=e,f.prototype.rotate=0,f.prototype.reset=function(){this.pos.x=.2*this.game.WORLD_WIDTH,this.pos.y=.4*this.game.WORLD_HEIGHT},f.prototype.onFrame=function(b){if(a.keys.space&&a._didJump){Game.isPlaying=!0,this.pos.y-=d;var c=document.getElementById("jumpsound");c.src="pew.mp3",c.volume=.5,c.play(),c.loop=!1,this.rotate=-30,this.gravitySpeed=e,a.didJump()}!a._didJump&&Game.isPlaying&&(this.pos.y+=this.gravitySpeed,this.gravitySpeed+=.025,this.rotate<=70&&(this.rotate+=.5)),this.checkCollisionWithBounds(),this.checkCollisionWithTitan(),this.el.css("transform","translateZ(0) translate("+this.pos.x+"em, "+this.pos.y+"em) rotate("+this.rotate+"deg)")},f.prototype.checkCollisionWithBounds=function(){return this.pos.x<0||this.pos.x+b>this.game.WORLD_WIDTH||this.pos.y<0||this.pos.y+c>this.game.WORLD_HEIGHT?(Game.isPlaying=!1,this.game.gameover()):void 0},f.prototype.checkCollisionWithTitan=function(){var a=!1;return f=$(".Player")[0],$(".Titan").map(function(){overlaps(f,this)&&(a=!0)}),$("#ground").map(function(){overlaps(f,this)&&(a=!0)}),a?(Game.isPlaying=!1,this.game.gameover()):void 0},f}()}),$(document).ready(function(){window.requestAnimationFrame||(window.requestAnimationFrame=function(){"use strict";return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}())});